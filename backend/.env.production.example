# Production Environment Configuration
# Copy this file to .env.production and configure with production values

# CRITICAL: Update all secrets before deploying to production!

NODE_ENV=production
PORT=3002
ALLOWED_ORIGINS=https://your production-domain.com,https://app.yourdomain.com

# PostgreSQL for production
DATABASE_PROVIDER=postgresql
DATABASE_URL=postgresql://username:password@localhost:5432/proxmox_manager?schema=public

# REQUIRED: Generate strong secrets!
# Generate with: openssl rand -base64 32
JWT_SECRET=CHANGE_THIS_TO_A_STRONG_RANDOM_SECRET
JWT_REFRESH_SECRET=CHANGE_THIS_TO_ANOTHER_STRONG_RANDOM_SECRET
JWT_ACCESS_TOKEN_EXPIRY=15m
JWT_REFRESH_TOKEN_EXPIRY=7d

# Password hashing (12 recommended for production)
BCRYPT_ROUNDS=12

# CSRF
CSRF_TOKEN_LENGTH=32
CSRF_TOKEN_EXPIRY=3600000

# Rate limiting (strict for production)
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
LOGIN_RATE_LIMIT=5
ACCOUNT_LOCKOUT_DURATION=1800000

# Session
SESSION_EXPIRY=3600000
SESSION_CLEANUP_INTERVAL=600000

# Redis (recommended for production)
REDIS_URL=redis://localhost:6379
# REDIS_PASSWORD=your-redis-password

# Logging
LOG_LEVEL=info
LOG_FILE_PATH=./logs
LOG_MAX_SIZE=10485760
LOG_MAX_FILES=30
LOG_PRETTY_PRINT=false
LOG_SQL_QUERIES=false

# Proxmox
PROXMOX_DEFAULT_PORT=8006
PROXMOX_TIMEOUT=30000
PROXMOX_ALLOW_INSECURE=false

# Metrics & Monitoring
ENABLE_METRICS=true
METRICS_PORT=9090

# Sentry (error tracking)
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# Features
ENABLE_API_DOCS=false
ENABLE_2FA=true
ENABLE_EMAIL=true
ENABLE_WEBHOOKS=true

# Email (SMTP)
# SMTP_HOST=smtp.example.com
# SMTP_PORT=587
# SMTP_SECURE=true
# SMTP_USER=user@example.com
# SMTP_PASSWORD=secure-password
# SMTP_FROM=noreply@example.com

# Debug (disabled in production)
DEBUG=false
